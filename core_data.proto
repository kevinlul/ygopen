syntax = "proto3";

package YGOpen.Core.Data;

message CardInfo
{
	int32 code = 1;
	int32 controler = 2;
	int32 location = 3;
	int32 sequence = 4;
	int32 position = 5;
	// If the message has a CardOverlay message it means that the card itself
	// is a overlay of a XYZ monster. In that scenario, none of the fields
	// above should exist (except for code).
	CardOverlay overlay = 6;
}

message CardOverlay
{
	int32 controler = 1;
	int32 location = 2;
	int32 sequence = 3;
}

message CardWithEffect
{
	CardInfo info = 1;
	int64 description = 2; // effect description string id
}

message CardCanAttack
{
	CardInfo info = 1;
	bool can_attack = 2; // can this card attack
}

message CardTribute
{
	CardInfo info = 1;
	int32 tribute_count = 2; // count this card as X tributes
}

message Chain
{
	// NOTE: possible values
	// #define EDESC_OPERATION 1
	// #define EDESC_RESET     2
	// or 0
	int32 edesc = 1; // TODO: needs investigation
	int64 description = 2;
	CardInfo card = 3;
}
